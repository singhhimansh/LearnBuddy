# LearnBuddy
LMS app for online education

## Tech Stack
- Next.js full stack framework
- Tailwind CSS
- TypeScript
- Supabase
- DaisyUI
- Redux Toolkit
- Formik
- Yup


## Features
- User Authentication, Signin, Signup, Logout
- Dashboard
- Courses List
- Enroll/Unenroll in a course
- Lessons List
- User profile dashboard

  ### TODO
  - Add profile update dashbaord
  - Add lessons tracking


## Setup

- Clone the repository
- Install dependencies using `yarn install` or `npm install`
- Set up environment variables
  - Create a `.env` file in the root directory
  - Copy the contents of `.env.example` to `.env`
  - Update the values in `.env` with your own values (Supabase URL, Anon Public Key & Service Role Key )

- Run the development server
  - `yarn dev` or `npm run dev`

- visit `http://localhost:3000` in your browser

- Note: 
  - next ui can be accessed at: `http://localhost:3000`
  - next server routes can be accessed at: `http://localhost:3000/api`



## APIs 
```
/auth/signup                      // signup new user
/auth/login                       // login exisiting user
/auth/logout                      // logout user
/auth/user                        // get user details with 

get /courses                      // all courses available
get /courses/:courseId            // course content

post /enroll/:courseId           // enrollment a course
patch /enroll/:courseId          // update enrollment status like remove enroll etc

```



## Supabase DB Schemas


```http
users schema 
RLS policy: public

create table public.users (
  id uuid not null default auth.uid (),
  created_at timestamp with time zone not null default now(),
  firstname text not null,
  lastname text null,
  age smallint null,
  gender character varying null,
  email text not null,
  "photoUrl" text null,
  dob date null,
  interests json null,
  updated_at timestamp with time zone null,
  constraint users_pkey primary key (id),
  constraint users_email_key unique (email)
) TABLESPACE pg_default;


courses schema 
RLS policy: public

create table public.courses (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  title character varying not null,
  description text not null,
  keywords json not null,
  author text not null,
  "isArchived" boolean null,
  thumbnail text not null default 'https://img.freepik.com/free-psd/e-learning-template-design_23-2151081778.jpg?semt=ais_hybrid&w=740&q=80'::text,
  constraint courses_pkey primary key (id),
  constraint courses_title_key unique (title)
) TABLESPACE pg_default;


lessons schema 
RLS policy: public

create table public.lessons (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  title character varying not null,
  description text not null,
  course_id bigint not null,
  "order" smallint null,
  constraint lessons_pkey primary key (id),
  constraint lessons_title_key unique (title),
  constraint lessons_course_id_fkey foreign KEY (course_id) references courses (id)
) TABLESPACE pg_default;


courses_enrolled schema 
RLS policy: authenticated

create table public.courses_enrolled (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  course_id bigint not null,
  updated_at timestamp with time zone null,
  user_id uuid not null default auth.uid (),
  status public.status not null default 'NOTSTARTED'::status,
  constraint courses_ enrolled_pkey primary key (id),
  constraint courses_ enrolled_course_id_fkey foreign KEY (course_id) references courses (id),
  constraint courses_enrolled_user_id_fkey foreign KEY (user_id) references users (id)
) TABLESPACE pg_default;




lessons_progress schema
RLS policy: authenticated

create table public.lessons_progress (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  lesson_id bigint not null,
  progress integer not null default 0,
  updated_at timestamp without time zone null,
  user_id uuid not null default auth.uid (),
  status public.status not null default 'NOTSTARTED'::status,
  constraint lessons_progress_pkey primary key (id),
  constraint lessons_progress_lesson_id_fkey foreign KEY (lesson_id) references lessons (id),
  constraint lessons_progress_user_id_fkey foreign KEY (user_id) references users (id)
) TABLESPACE pg_default;

```